{"type":"operationStart","subtype":"profile","data":{"_id":"i55NJ0K5Hin1ELZo","timestamp":"2024-03-07T16:01:20.799Z","state":"queued","mode":"standard","creationDate":"2024-03-07T16:01:20.802Z","modificationDate":"2024-03-07T16:01:20.802Z","shortid":"Syy_5Kx","inheritedReadPermissions":[],"inheritedEditPermissions":[],"$entitySet":"profiles"},"doDiffs":false,"timestamp":1709827280800,"id":"ldxqmgt6cbpx6rz","previousOperationId":null,"operationId":"saa0yvf0pnp822b"}
{"type":"log","level":"info","message":"Render request 8 queued for execution and waiting for available worker","previousOperationId":"saa0yvf0pnp822b","timestamp":1709827280800,"id":"w0i32eshoxuno9j"}
{"type":"operationStart","subtype":"render","name":"customers","previousOperationId":"saa0yvf0pnp822b","timestamp":1709827280819,"id":"kfoc7uentqzxrhw","previousEventId":"ldxqmgt6cbpx6rz","operationId":"i5vkkej1mj7wcs1"}
{"type":"log","timestamp":1709827280819,"level":"info","message":"Starting rendering request 8 (user: gabriel)","meta":{"rootId":"nsr9yo8re0ma5g1","id":"nsr9yo8re0ma5g1"},"id":"35sgrkkfp0mm61v","previousOperationId":"i5vkkej1mj7wcs1"}
{"type":"log","timestamp":1709827280819,"level":"info","message":"Rendering template { name: customers, recipe: html, engine: handlebars, preview: true }","meta":{"rootId":"nsr9yo8re0ma5g1","id":"nsr9yo8re0ma5g1"},"id":"gof90tps2d85hp6","previousOperationId":"i5vkkej1mj7wcs1"}
{"type":"log","timestamp":1709827280819,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"nsr9yo8re0ma5g1","id":"nsr9yo8re0ma5g1"},"id":"hki4qho4yvaflmr","previousOperationId":"i5vkkej1mj7wcs1"}
{"type":"log","timestamp":1709827280826,"level":"debug","message":"Executing script get customers (beforeRender)","meta":{"rootId":"nsr9yo8re0ma5g1","id":"nsr9yo8re0ma5g1"},"id":"vv85wou6vw6fgq1","previousOperationId":"i5vkkej1mj7wcs1"}
{"type":"log","timestamp":1709827280849,"level":"warn","message":"Error when processing render request 8\n(because) error when evaluating custom script /get customers\nUnable to find module request\r\nThe require calls:\r\nrequire('request')\r\nrequire('C:\\Users\\gabri\\source\\repos\\jsreportapp\\request')\r\nrequire('C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-cli\\lib\\request')\r\n\n\n(sandbox.js line 1:167)\n\n> 1 | var getRequest = require('request').get\n    |                                        ^\n  2 |\n  3 | function beforeRender(req, res, done) {\n  4 |     getRequest('http://services.odata.org/V4/Northwind/Northwind.svc/Customers?$top=5', function (err, resp, body) {\n\n\nError: Unable to find module request\r\nThe require calls:\r\nrequire('request')\r\nrequire('C:\\Users\\gabri\\source\\repos\\jsreportapp\\request')\r\nrequire('C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-cli\\lib\\request')\r\n\n    at doRequire (C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\requireSandbox.js:89:11)\n    at sandboxRequire (C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\requireSandbox.js:44:14)\n    at require (C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:89:30)\n    at sandbox.js:1:167","meta":{"rootId":"nsr9yo8re0ma5g1","id":"nsr9yo8re0ma5g1"},"id":"z9byambhdnk8gxg","previousOperationId":"i5vkkej1mj7wcs1"}
{"type":"log","timestamp":1709827280849,"level":"warn","message":"Rendering request 8 finished with error in 51 ms","meta":{"rootId":"nsr9yo8re0ma5g1","id":"nsr9yo8re0ma5g1"},"id":"rh3awdnhrtou6pa","previousOperationId":"i5vkkej1mj7wcs1"}
{"type":"error","timestamp":1709827280855,"statusCode":400,"weak":true,"decoratedSuffix":"\n\n(sandbox.js line 1:167)\n\n> 1 | var getRequest = require('request').get\n    |                                        ^\n  2 |\n  3 | function beforeRender(req, res, done) {\n  4 |     getRequest('http://services.odata.org/V4/Northwind/Northwind.svc/Customers?$top=5', function (err, resp, body) {\n\n","entity":{"shortid":"jSHajY1sfz","name":"get customers","content":"var getRequest = require('request').get\n\nfunction beforeRender(req, res, done) {\n    getRequest('http://services.odata.org/V4/Northwind/Northwind.svc/Customers?$top=5', function (err, resp, body) {\n        if (err) {\n            return done(err)\n        }\n        \n        req.data.customers = JSON.parse(body).value\n        done()\n    }) \n}"},"property":"content","logged":true,"previousOperationId":"i5vkkej1mj7wcs1","id":"r8svkexojzg1fkw","stack":"Error: Unable to find module request\r\nThe require calls:\r\nrequire('request')\r\nrequire('C:\\Users\\gabri\\source\\repos\\jsreportapp\\request')\r\nrequire('C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-cli\\lib\\request')\r\n\n    at doRequire (C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\requireSandbox.js:89:11)\n    at sandboxRequire (C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\requireSandbox.js:44:14)\n    at require (C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:89:30)\n    at sandbox.js:1:167","message":"Error when evaluating custom script /get customers\nUnable to find module request\r\nThe require calls:\r\nrequire('request')\r\nrequire('C:\\Users\\gabri\\source\\repos\\jsreportapp\\request')\r\nrequire('C:\\Users\\gabri\\source\\repos\\jsreportapp\\node_modules\\@jsreport\\jsreport-cli\\lib\\request')\r\n\n\n(sandbox.js line 1:167)\n\n> 1 | var getRequest = require('request').get\n    |                                        ^\n  2 |\n  3 | function beforeRender(req, res, done) {\n  4 |     getRequest('http://services.odata.org/V4/Northwind/Northwind.svc/Customers?$top=5', function (err, resp, body) {\n\n"}
